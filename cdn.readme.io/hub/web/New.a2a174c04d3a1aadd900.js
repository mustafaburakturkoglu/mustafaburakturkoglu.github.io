"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[217],{82172:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(2784),s=r(45728);const o=function(){var e=(0,n.useContext)(s.St)||{},t=e.user,r=e.permissions;return{isLoggedIn:!!t,isAdminUser:t&&r.length>0&&"admin"===r[0].userType}}},20875:(e,t,r)=>{r.r(t),r.d(t,{default:()=>A});r(66496),r(10746),r(84879),r(17305),r(85417),r(65389),r(74476),r(52277);var n=r(56666),s=r(77162),o=r.n(s),a=(r(73160),r(25047),r(34795)),c=r(96234),i=(r(37029),r(98957),r(2784)),u=r(4517),l=r(47933),d=r(13980),p=r.n(d),f=r(22978),m=r.n(f),h=r(37786),g=r(34661),v=r(82172),y=r(45728),b=r(19545),O=r(70603),E=r(19650),w=r(22650),P=r(72190),j=r(89368),Z=r(11342),D=r(22084),N=r(82336),k=r(88643);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=e.appId,r=e.csrfToken,n=e.searchApiKey,s=e.setSuggestedPosts,d=(0,i.useContext)(y.xI),p=d.reCaptchaSiteKey,f=d.flags.newEditor,g=(0,i.useContext)(y.cr),Z=(0,i.useContext)(y.E_),S=Z.algoliaIndex,C=Z.domainFull,_=(0,i.useRef)(),x=(0,u.k6)(),A=(0,i.useState)({name:"",email:""}),I=(0,c.Z)(A,2),U=I[0],M=I[1],B=(0,i.useState)(""),F=(0,c.Z)(B,2),L=F[0],Q=F[1],K=(0,i.useState)(""),J=(0,c.Z)(K,2),z=J[0],R=J[1],V=(0,i.useState)(null),q=(0,c.Z)(V,2),$=q[0],H=q[1],W=(0,i.useState)(!1),Y=(0,c.Z)(W,2),G=Y[0],X=Y[1],ee=(0,v.Z)().isLoggedIn,te=(0,b.Z)(),re=te.isClient,ne=te.isDev,se="".concat(re?window.location.pathname:"/discuss-new"),oe=(0,D.sZ)(),ae=(0,c.Z)(oe,3),ce=ae[0],ie=ae[2].serialize;(0,i.useEffect)((function(){var e,t,r=(null==$||null===(e=$.errors)||void 0===e||null===(t=e.title)||void 0===t?void 0:t.message)||(null==$?void 0:$.message);return r?(0,j.h4)(i.createElement(j.lt,{color:"red"},r)):void 0}),[$]);var ue=function(){var e=(0,a.Z)(o().mark((function e(){var t,n,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(X(!0),t=!1,L&&(f?ce:z)||(t=!0,(0,j.h4)(i.createElement(j.lt,{color:"red"},"Your post ",L?"body":"title"," cannot be blank."))),ee||U.name&&U.email||(t=!0,(0,j.h4)(i.createElement(j.lt,{color:"red"},"Please fill out your name and email."))),!t){e.next=6;break}return e.abrupt("return");case 6:if(p&&_&&(null===(n=_.current)||void 0===n||n.reset()),!p){e.next=11;break}return e.next=10,_.current.executeAsync();case 10:s=e.sent;case 11:return e.abrupt("return",(0,N.gs)({csrfToken:r,post:{title:L,body:f?ie(ce):z},loggedOutUser:U,url:se,recaptchaResponse:s,redirect:function(e){return x.push("/discuss/".concat(e))},setErrorMessage:H}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(e){var r=e.updatedTitle,o=e.updatedBody;$&&H(null),Q(r);var a="";f?a=ie(ce):(R(o),a=o),ne||function(e){var t=e.appId,r=e.body,n=e.searchApiKey,s=e.searchIndex,o=e.setSuggestedPosts,a=e.title;m()(t,n).initIndex(s).search("".concat(a," ").concat(r),{filters:"indexName:Discuss",distinct:!0,hitsPerPage:4}).then((function(e){var t=e.hits;o(t)})).catch((function(e){return console.log(e)}))}({appId:t,body:a,searchApiKey:n,searchIndex:S,setSuggestedPosts:s,updatedTitle:r})};return i.createElement("div",{className:k.Z.DiscussNewQuestionForm},i.createElement(E.Z,{className:k.Z.DiscussNewQuestionForm_input,onChange:function(e){var t;return le({updatedTitle:null===(t=e.target)||void 0===t?void 0:t.value,updatedBody:z})},placeholder:"Your question title",required:G,type:"text",value:L}),f?i.createElement(i.Fragment,null,i.createElement(w.Z,{bem:[["rule"]],className:"".concat(k.Z.DiscussEditorWrapper," ").concat(k.Z["DiscussEditorWrapper-large"])},i.createElement(D.ZP,{basic:!0,className:k.Z.DiscussNewQuestionForm_body,domainFull:C,editorState:oe,imageUpload:!1,projectBaseUrl:g})),i.createElement(D.JI,null)):i.createElement(O.Z,{className:k.Z.DiscussNewQuestionForm_content,onChange:function(e){var t;return le({updatedTitle:L,updatedBody:null===(t=e.target)||void 0===t?void 0:t.value})},placeholder:"Ask a question. Markdown allowed.",rows:10,value:z}),!ee&&i.createElement("div",{className:k.Z["DiscussPost-newComment_inputs"]},i.createElement(E.Z,{className:k.Z["DiscussPost-newComment_input"],onChange:function(e){return M((function(t){var r;return T(T({},t),{},{name:null===(r=e.target)||void 0===r?void 0:r.value})}))},placeholder:"Full name",required:G,type:"text",value:U.name}),i.createElement(E.Z,{className:k.Z["DiscussPost-newComment_input"],onChange:function(e){return M((function(t){var r;return T(T({},t),{},{email:null===(r=e.target)||void 0===r?void 0:r.value})}))},placeholder:"name@email.com",required:G,type:"email",value:U.email})),i.createElement("div",{className:k.Z.DiscussNewQuestionForm_buttons},i.createElement(P.Z,{className:"".concat(k.Z["Discuss-question_button"]," ").concat(k.Z["DiscussPost-edit_button"]),onClick:ue,size:"sm"},"Post Question"),i.createElement(l.rU,{className:"Button Button_ivory Button_sm",target:"_self",to:"/discuss"},"Cancel")),p&&i.createElement(h.Z,{ref:_,badge:"bottomleft",sitekey:p,size:"invisible"}))},_=function(e){var t=e.suggestedPosts;return i.createElement("div",{className:k.Z.DiscussNewSuggested},t.length?t.map((function(e,t){return i.createElement(l.rU,{key:"suggested-post-".concat(t),className:k.Z["DiscussNewSuggested-post"],to:"/discuss/".concat(e.referenceId)},i.createElement("h2",{className:k.Z["DiscussPost-title"]},e.title),i.createElement(Z.Z,null,e._snippetResult.body.value))})):i.createElement("div",null,"No posts found."))},x=function(e){var t=e.csrfToken,r=e.errors,n=e.search,s=(0,i.useState)([]),o=(0,c.Z)(s,2),a=o[0],u=o[1];return e&&i.createElement("div",{className:k.Z.DiscussNew},i.createElement("div",null,i.createElement("h1",{className:k.Z["DiscussNew-header"]},"Ask a Question"),i.createElement(C,{appId:null==n?void 0:n.appId,csrfToken:t,searchApiKey:null==n?void 0:n.searchApiKey,setSuggestedPosts:u})),i.createElement("div",null,i.createElement("h2",{className:k.Z["DiscussNew-header"]},"Suggested Posts"),i.createElement(_,{suggestedPosts:a})),(null==r?void 0:r.length)>0&&r.map((function(e){return(0,j.h4)(i.createElement(j.lt,{color:"red"},"Error: ",e.message||e))})),i.createElement(g.x7,null))};x.propTypes={csrfToken:p().string,errors:p().arrayOf(p().object),search:p().shape({appId:p().string,searchApiKey:p().string})},C.propTypes={appId:p().string,csrfToken:p().string,searchApiKey:p().string,setSuggestedPosts:p().func},_.propTypes={suggestedPosts:p().array};const A=x},82336:(e,t,r)=>{r.d(t,{fq:()=>l,u7:()=>d,fn:()=>p,DI:()=>f,CB:()=>m,He:()=>h,EB:()=>g,Zl:()=>v,gs:()=>y});r(66496),r(84879),r(73160),r(17305),r(85417),r(65389),r(74476),r(10746);var n=r(68079),s=r(77162),o=r.n(s),a=(r(25047),r(34795)),c=r(56666);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,c.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l=function(e){var t=e.recaptchaResponse,r=void 0===t?"":t,n=e.url,s=e.anonymous,c=e.body,i=e.parent,l=e.commentReopened,d=void 0!==l&&l,p=e.commentSolved,f=void 0!==p&&p,m=e.user,h=e.setErrorMessage,g=e.updateSuccess;return fetch(n,{body:JSON.stringify(u(u(u(u({body:c,anonymous:s,parent:i},r&&{"g-recaptcha-response":r}),d&&{reopened:d}),f&&{solved:f}),{},{user:m})),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(){var e=(0,a.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=8;break}return e.t0=g,e.next=4,t.json();case 4:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 8:return e.t2=h,e.next=11,t.json();case 11:e.t3=e.sent,(0,e.t2)(e.t3);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return h({message:e})}))},d=function(e){var t=e.e,r=e.discussUrl,s=e.newTag,o=e.setErrorMessage,a=e.setNewTag,c=e.setIsAddingTag,i=e.setPostData,l=e.postData;return 13===t.keyCode&&s.length>0?fetch(r,{body:JSON.stringify({tags:[].concat((0,n.Z)(l.tags),[s])}),headers:{"Content-Type":"application/json"},method:"PUT"}).then((function(e){e.ok&&(i((function(e){return u(u({},e),{},{tags:[].concat((0,n.Z)(l.tags),[s])})})),a(""),c(!1))})).catch((function(e){return o({message:e})})):(27===t.keyCode&&(a(""),c(!1)),null)},p=function(e){var t=e.url,r=e.redirect,n=e.setErrorMessage,s=e.setPostComments,o=e.updatedPostComments;return fetch(t,{headers:{"Content-Type":"application/json"},method:"DELETE"}).then((function(e){e.ok&&(r?r():s(o))})).catch((function(e){return n({message:e})}))},f=function(e){var t=e.tag,r=e.e,n=e.discussUrl,s=e.setErrorMessage,o=e.setPostData,a=e.postData;if(null!=r&&r.keyCode&&13!==(null==r?void 0:r.keyCode))return null;var c=a.tags.filter((function(e){return e!==t}));return fetch(n,{body:JSON.stringify({tags:c}),headers:{"Content-Type":"application/json"},method:"PUT"}).then((function(e){e.ok&&o((function(e){return u(u({},e),{},{tags:c})}))})).catch((function(e){return s({message:e})}))},m=function(e){var t=e.discussUrl,r=e.postData,n=e.setErrorMessage,s=e.setPostData;return fetch(t,{body:JSON.stringify({isFAQ:!r.isFAQ}),headers:{"Content-Type":"application/json"},method:"PUT"}).then((function(e){e.ok&&s((function(e){return u(u({},e),{},{isFAQ:!r.isFAQ})}))})).catch((function(e){return n({message:e})}))},h=function(e){var t=e.url,r=e.editedBody,n=e.setErrorMessage,s=e.updateSuccess;return fetch(t,{body:JSON.stringify({body:r}),headers:{"Content-Type":"application/json"},method:"PUT"}).then((function(e){e.ok&&s()})).catch((function(e){return n({message:e})}))},g=function(e){var t,r=e.url,n=e.permissions,s=e.voteType,o=e.voteData,a=e.setErrorMessage,c=e.setVoteData,i=e.userId;if(!n)return window.location.assign("/login?redirect_uri=".concat(window.location.pathname)),null;var l=!0,d="",p="".concat(r,"/destroy"),f={};if(Object.keys(o).forEach((function(e){f[e]=o[e].filter((function(e){return e.user!==i}))})),o[s].length===(null===(t=f[s])||void 0===t?void 0:t.length)){l=!1;var m="upVote"===s?1:-1;f[s].push({user:i,value:m}),d={body:JSON.stringify({voted:m})}}return fetch(l?p:r,u(u({},d),{},{headers:{"Content-Type":"application/json"},method:l?"DELETE":"POST"})).then((function(e){e.ok&&c(f)})).catch((function(e){return a({message:e})}))},v=function(e){var t=e.permissions,r=e.userVote,n=e.setErrorMessage,s=e.setUserVote,o=e.userId,a=e.discussUrl;if(!t)return window.location.assign("/login?redirect_uri=".concat(window.location.pathname)),null;var c=r.voters;r.hasVoted?c=c.filter((function(e){return e!==o})):c.push(o);var i="".concat(a,"/vote");return fetch(i,{body:JSON.stringify({hub2voters:c,voted:!r.hasVoted}),headers:{"Content-Type":"application/json"},method:"POST"}).then((function(e){e.ok&&s({voteCount:c.length,hasVoted:!r.hasVoted,voters:c})})).catch((function(e){return n({message:e})}))},y=function(e){var t=e.csrfToken,r=e.post,n=e.loggedOutUser,s=void 0===n?{}:n,c=e.url,i=e.recaptchaResponse,l=void 0===i?"":i,d=e.setErrorMessage,p=e.redirect;return fetch(c,{body:JSON.stringify(u(u({_csrf:t,title:r.title,body:r.body},s&&{name:s.name,email:s.email}),l&&{"g-recaptcha-response":l})),headers:{"Content-Type":"application/json"},method:"POST"}).then(function(){var e=(0,a.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=7;break}return e.next=3,t.json();case 3:r=e.sent,p(r._id),e.next=12;break;case 7:return e.t0=d,e.next=10,t.json();case 10:e.t1=e.sent,(0,e.t0)(e.t1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return d({message:e})}))}},11342:(e,t,r)=>{r.d(t,{Z:()=>E,u:()=>O});var n=r(2784),s=r(51582),o=(r(66496),r(10746),r(84879),r(17305),r(85417),r(65389),r(74476),r(56666)),a=r(96234),c=r(59740),i=r(13980),u=r.n(i),l=(r(80061),r(98957),r(1),r(67903)),d=r(45728),p=["docs","reference","changelog","recipes","page","discuss"];var f=r(46630);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){var t=e.attributes,r=void 0===t?{target:"_self"}:t,s=e.children,o=e.href,i=(0,c.Z)(e,["attributes","children","href"]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,n.useContext)(d.xI).fullBaseUrl;if(!e.match(/^(doc|ref|blog|changelog|page):/)){try{var r=new URL(t).host,s=(new d.ej).parse(e),o=s.hash,a=s.host,c=s.pathname,i=s.search,u=s.slugs,f=u[0]&&p.includes(u[0]);if((a===r||null===a)&&f)return[{to:{hash:o,pathname:c,search:i}},l.fO]}catch(e){}return[{href:e},"a"]}var m=e.match(/^doc:([-_a-zA-Z0-9#]*)$/);if(m)return[{to:"/docs/".concat(m[1])},l.fO];var h=e.match(/^ref:([-_a-zA-Z0-9#]*)$/);if(h){var g=h[1];return[{to:"/reference/".concat(g)},l.fO]}var v=e.match(/^blog:([-_a-zA-Z0-9#]*)$/),y=e.match(/^changelog:([-_a-zA-Z0-9#]*)$/),b=v||y;if(b)return[{to:"/changelog/".concat(b[1])},l.fO];var O=e.match(/^page:([-_a-zA-Z0-9#]*)$/);return O?[{to:"/page/".concat(O[1])},l.fO]:[{href:e},"a"]}(o),f=(0,a.Z)(u,2),m=f[0],g=f[1];return n.createElement(g,h(h(h(h({},r),m),i),{},{children:s}))};g.propTypes={attributes:u().object,href:u().string};const v={a:g,"tutorial-tile":f.Z};var y=function(){return y=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},y.apply(this,arguments)},b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]])}return r};function O(e,t,r){void 0===t&&(t=!0);var o=(0,n.useMemo)((function(){return s.setup(e||"",r)}),[e,r]),a=o[0],c=o[1],i=(0,n.useMemo)((function(){return s.reactProcessor(c,v).parse(a)}),[a,c]),u=(0,n.useMemo)((function(){return s.react(i,c,v)}),[i,c]),l=(0,n.useMemo)((function(){return[u,s.reactTOC(i,c)]}),[i,u,c]);return t?l:u}const E=n.memo((function(e){var t=e.body,r=e.children,s=e.className,o=e.opts,a=e.Tag,c=void 0===a?"div":a,i=b(e,["body","children","className","opts","Tag"]),u=O(t||r,!1,o),l=[!1!==s&&"markdown-body",s||""];return n.createElement(c,y({},i,{className:l.filter((function(e){return e})).join(" "),"data-testid":"RDMD"}),u)}))}}]);