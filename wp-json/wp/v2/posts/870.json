{"id":870,"date":"2021-05-20T13:00:00","date_gmt":"2021-05-20T13:00:00","guid":{"rendered":"http:\/\/wp-io.dolby.net\/?p=870"},"modified":"2022-01-27T11:41:51","modified_gmt":"2022-01-27T19:41:51","slug":"using-firebase-functions-as-a-conferencing-authentication-service","status":"publish","type":"post","link":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/","title":{"rendered":"Using Firebase Functions as a Conferencing Authentication Service"},"content":{"rendered":"\n<p>This blog post will show you how to use the Google Firebase Functions to build an&nbsp;authentication service&nbsp;with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Interactivity API SDKs. At&nbsp;<a href=\"https:\/\/dolby.io\/\">Dolby.io<\/a>, we consistently think about security and how to help our customers build applications and services that follow&nbsp;<a href=\"https:\/\/docs.dolby.io\/communications-apis\/docs\/guides-security-best-practices\">security best practices<\/a>. As an example, we recently introduced the&nbsp;<a href=\"https:\/\/docs.dolby.io\/communications-apis\/docs\/guides-enhanced-conference-access-control\">Enhanced Conference Access Control<\/a>&nbsp;capability that allows you to set permissions for your users joining conferences.<br><\/p>\n\n\n\n<h2 id=\"UseFirebaseFunctionsasauthenticationservice-Introduction\">Introduction<\/h2>\n\n\n\n<p>In this blog post I want to focus on the initialization of the SDK in your applications. In the past, when you wanted to create an application that requires no backend to work, it was quite difficult to avoid hardcoding the Consumer Key and Consumer Secret. There are a few problems there. If your key and secret are hardcoded into your applications, you can consider that anyone (with minimal knowledge) can capture them, by either decompiling your application or by listening to the traffic going through the authentication endpoint. Now, lets say you need to use a new key for your applications, you will need to build a new version of your application and have all of your users upgrade at the same time if you want them to be able to communicate with each other (you cannot join a conference created with another consumer key). This is not practical for many users.<\/p>\n\n\n\n<p>To avoid this, we recommend that our customers use a backend with a protected endpoint that will generate an access token that can be used by your applications to initialize the SDK. But creating and maintaining a server for only this endpoint can become very expensive and time consuming. You need to make sure it scales with the load of your application, you need failover, and you need to update the server with the latest patch updates. This is 2021 and all of the major cloud providers are now offering a serverless service;&nbsp;<a href=\"https:\/\/azure.microsoft.com\/en-us\/services\/functions\/\">Azure Functions<\/a>,&nbsp;<a href=\"https:\/\/aws.amazon.com\/lambda\/\">AWS Lambda<\/a>&nbsp;and&nbsp;<a href=\"https:\/\/cloud.google.com\/functions\">Google Cloud Functions<\/a>. The advantage of running a cloud function for this kind of workload is that you do not have to maintain a server; you do not have to worry about scaling and the cost is minimal.<\/p>\n\n\n\n<p>We are going to deploy a&nbsp;<strong>Firebase Function<\/strong>&nbsp;that we will use to generate an access token to initialize the SDK.&nbsp;<a href=\"https:\/\/firebase.google.com\/docs\/functions\">Firebase Functions<\/a>&nbsp;are built on top of the Google Cloud function. As of writing this post, Google Cloud does not charge for the first two million executions of your function (see the&nbsp;<a href=\"https:\/\/firebase.google.com\/pricing\">pricing<\/a>&nbsp;page for more details). Note that the Google Cloud Functions are running from containers and there is a cost associated with hosting a container registry.<\/p>\n\n\n\n<h2 id=\"UseFirebaseFunctionsasauthenticationservice-FirebaseFunction\">Firebase Function<\/h2>\n\n\n\n<p>Install the Firebase Tools on your machine using the following&nbsp;<code>npm<\/code>&nbsp;command (<a href=\"https:\/\/nodejs.org\/\">Node.JS<\/a>):<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">npm install -g firebase-tools<\/code><\/pre>\n\n\n\n<p>Log the CLI into Firebase:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">firebase login<\/code><\/pre>\n\n\n\n<p>Create a folder where you want to have your code and initialize your project with the following command:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">firebase init<\/code><\/pre>\n\n\n\n<p>You will be asked what you want to set up in this folder, select&nbsp;<em>Functions: Configure and deploy Cloud Functions<\/em>. If you already have a Firebase project, select&nbsp;<em>Use an existing project<\/em>. Select the language you want to use to write the Cloud Function. I will provide you the code in&nbsp;<a href=\"https:\/\/www.typescriptlang.org\/\">TypeScript<\/a>. Use&nbsp;<a href=\"https:\/\/eslint.org\/\">ESLint<\/a>&nbsp;to have a clean TypeScript code, then install the dependencies with NPM.<\/p>\n\n\n\n<p>Open the&nbsp;<code>functions\/src\/index.ts<\/code>&nbsp;file. This will be the code of your function. Replace the content with the following code. Make sure to replace your&nbsp;<em>CONSUMER_KEY<\/em>&nbsp;and&nbsp;<em>CONSUMER_SECRET<\/em>. You can go one step further if you want to protect these by using the&nbsp;<a href=\"https:\/\/cloud.google.com\/secret-manager\">Secret Manager<\/a>&nbsp;from Google Cloud.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">import * as functions from &quot;firebase-functions&quot;;\nimport * as http from &quot;http&quot;;\nimport * as https from &quot;https&quot;;\n \n\/\/ Enter your Consumer Key and Secret from the dolby.io dashboard\nconst CONSUMER_KEY = &quot;CONSUMER_KEY&quot;;\nconst CONSUMER_SECRET = &quot;CONSUMER_SECRET&quot;;\n \n\/**\n * Sends a POST request\n * @param {string} hostname\n * @param {string} path\n * @param {OutgoingHttpHeaders} headers\n * @param {string} body\n * @return {Promise&lt;any&gt;} A JSON payload object through a Promise.\n *\/\nconst postAsync = (hostname: string, path: string, headers: http.OutgoingHttpHeaders, body: string): Promise&lt;any&gt; =&gt; {\n  return new Promise(function(resolve, reject) {\n    const options: https.RequestOptions = {\n      hostname: hostname,\n      port: 443,\n      path: path,\n      method: &quot;POST&quot;,\n      headers: headers,\n    };\n \n    const req = https.request(options, (res) =&gt; {\n      functions.logger.debug(`[POST] ${res.statusCode} - https:\/\/${hostname}${path}`);\n \n      let data = &quot;&quot;;\n      res.on(&quot;data&quot;, (chunk) =&gt; {\n        data = data + chunk.toString();\n      });\n \n      res.on(&quot;end&quot;, () =&gt; {\n        const json = JSON.parse(data);\n        resolve(json);\n      });\n    });\n \n    req.on(&quot;error&quot;, (error) =&gt; {\n      functions.logger.error(error);\n      reject(error);\n    });\n \n    req.write(body);\n    req.end();\n  });\n};\n \n\/**\n * Gets a JWT token for authorization.\n * @param {string} hostname\n * @param {string} path\n * @return {Promise&lt;any&gt;} a JWT token.\n *\/\nconst getAccessTokenAsync = (hostname: string, path: string): Promise&lt;any&gt; =&gt; {\n  const body = &quot;grant_type=client_credentials&quot;;\n \n  const authz = Buffer.from(`${CONSUMER_KEY}:${CONSUMER_SECRET}`).toString(&quot;base64&quot;);\n \n  const headers = {\n    &quot;Content-Type&quot;: &quot;application\/x-www-form-urlencoded&quot;,\n    &quot;Cache-Control&quot;: &quot;no-cache&quot;,\n    &quot;Authorization&quot;: &quot;Basic &quot; + authz,\n    &quot;Content-Length&quot;: body.length,\n  };\n \n  return postAsync(hostname, path, headers, body);\n};\n \nexport const getAccessToken = functions.https.onCall((_data, _context) =&gt; {\n  \/\/ See: https:\/\/dolby.io\/developers\/interactivity-apis\/reference\/rest-apis\/authentication#operation\/postOAuthToken\n  return getAccessTokenAsync(&quot;session.voxeet.com&quot;, &quot;\/v1\/oauth2\/token&quot;);\n});<\/code><\/pre>\n\n\n\n<blockquote class=\"wp-block-quote\"><p>Download the&nbsp;<a href=\"https:\/\/github.com\/dolbyio-samples\/blog-firebase-functions\/blob\/main\/src\">source code<\/a>&nbsp;of this Firebase Function.<\/p><\/blockquote>\n\n\n\n<p>Deploy this function to your Firebase project:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">firebase deploy<\/code><\/pre>\n\n\n\n<p>Log into the&nbsp;<a href=\"https:\/\/console.firebase.google.com\/\">Firebase Dashboard<\/a>, navigate to your Firebase project, and select Functions in the Build menu.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" width=\"1024\" height=\"576\" src=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/functions-dashboard-1024x576.png\" alt=\"\" class=\"wp-image-872\" srcset=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/functions-dashboard-1024x576.png 1024w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/functions-dashboard-300x169.png 300w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/functions-dashboard-768x432.png 768w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/functions-dashboard.png 1280w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>After a few seconds you will see your&nbsp;<code>getAccessToken<\/code>&nbsp;function.<\/p>\n\n\n\n<blockquote class=\"wp-block-quote\"><p><strong>Note:<\/strong>&nbsp;The&nbsp;<em>Memory<\/em>&nbsp;is automatically set to 256 MB. Since the code is really small, you should be able to run it with only 128 MB. You can also lower the&nbsp;<em>timeout<\/em>. To change that, go to the Google Cloud console and update the function.<\/p><\/blockquote>\n\n\n\n<p>And that was it, we have deployed an authentication service using a serverless service on Google Cloud. Now, we need to modify our applications to leverage this authentication service and remove, once and for all, the Consumer Key and Consumer Secret from the source code of your applications. This method of initialization will be deprecated in a future release of the SDKs across all platforms.<\/p>\n\n\n\n<h2 id=\"UseFirebaseFunctionsasauthenticationservice-Androidimplementation\">Android implementation<\/h2>\n\n\n\n<p>The following code is based on the&nbsp;<a href=\"https:\/\/github.com\/voxeet\/voxeet-sdk-android-gettingstarted\">voxeet-sdk-android-gettingstarted<\/a>&nbsp;GitHub repository.<\/p>\n\n\n\n<p>In the file&nbsp;<code>build.gradle<\/code>, add the following&nbsp;<em>classpath<\/em>&nbsp;in the dependencies of the&nbsp;<em>buildscript<\/em>&nbsp;section:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">classpath &#039;com.google.gms:google-services:4.3.5&#039;<\/code><\/pre>\n\n\n\n<p>In the file&nbsp;<code>app\/build.gradle<\/code>, add the following dependencies:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">\/\/ Import the BoM for the Firebase platform\nimplementation platform(&#039;com.google.firebase:firebase-bom:26.8.0&#039;)\n \n\/\/ Declare the dependencies for the Firebase libraries\n\/\/ When using the BoM, you don&#039;t specify versions in Firebase library dependencies\nimplementation &#039;com.google.firebase:firebase-analytics&#039;\nimplementation &#039;com.google.firebase:firebase-functions&#039;<\/code><\/pre>\n\n\n\n<p>Download the&nbsp;<code>google-services.json<\/code>&nbsp;file from your Firebase dashboard and move it to the&nbsp;<code>app<\/code>&nbsp;folder of your Android project.<\/p>\n\n\n\n<p>In your&nbsp;<code>MainActivity.java<\/code>&nbsp;file, add the following imports:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">import com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.functions.FirebaseFunctions;\nimport com.google.firebase.functions.HttpsCallableResult;\n \nimport java.util.HashMap;<\/code><\/pre>\n\n\n\n<p>Create the following variable in the MainActivity class:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">private FirebaseFunctions mFunctions;<\/code><\/pre>\n\n\n\n<p>Create the function that will request the Access Token from the&nbsp;<em>getAccessToken<\/em>* Firebase Function.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">\/**\n * Get an Access Token from the Firebase Function.\n *\/\nprivate Task&lt;String&gt; getAccessToken() {\n    return mFunctions\n            .getHttpsCallable(&quot;getAccessToken&quot;)\n            .call()\n            .continueWith(task -&gt; {\n                HttpsCallableResult result = task.getResult();\n                HashMap&lt;String, String&gt; json = (HashMap&lt;String, String&gt;) result.getData();\n                return json.get(&quot;access_token&quot;);\n            });\n}<\/code><\/pre>\n\n\n\n<p>In the&nbsp;<code>onCreate(Bundle savedInstanceState)<\/code>&nbsp;method, initialize the&nbsp;<code>mFunctions<\/code>&nbsp;variable, remove the deprecated&nbsp;<code>initialize<\/code>&nbsp;method, and request an access token from Firebase Function to initialize the SDK.<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">mFunctions = FirebaseFunctions.getInstance();\n \n\/\/ throw new IllegalStateException(&quot;&lt;---- Remove this line and set your keys below to use this sample !!&quot;);\n\/\/ VoxeetSDK.initialize(&quot;&quot;, &quot;&quot;);\n \ngetAccessToken()\n        .addOnSuccessListener(accessToken -&gt; {\n            \/\/ Initialize the SDK with the Access Token\n            VoxeetSDK.initialize(accessToken, (isExpired, callback) -&gt; {\n                \/\/ When the callback is triggered, request a new access token\n                getAccessToken()\n                        .addOnSuccessListener(refreshToken -&gt; {\n                            callback.ok(refreshToken);\n                        })\n                        .addOnFailureListener(error -&gt; {\n                            error.printStackTrace();\n                            callback.error(error);\n                        });\n            });\n        })\n        .addOnFailureListener(error -&gt; {\n            error.printStackTrace();\n        });<\/code><\/pre>\n\n\n\n<p>That&#8217;s it; the Android application is now using the Firebase Function to request an access token and initialize the SDK.<\/p>\n\n\n\n<h2 id=\"UseFirebaseFunctionsasauthenticationservice-iOSimplementation\">iOS implementation<\/h2>\n\n\n\n<p>The following code is based on the&nbsp;<a href=\"https:\/\/github.com\/voxeet\/voxeet-sdk-ios-gettingstarted\">voxeet-sdk-ios-gettingstarted<\/a>&nbsp;GitHub repository.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" width=\"940\" height=\"207\" src=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/ios-config.png\" alt=\"\" class=\"wp-image-875\" srcset=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/ios-config.png 940w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/ios-config-300x66.png 300w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/ios-config-768x169.png 768w\" sizes=\"(max-width: 940px) 100vw, 940px\" \/><\/figure>\n\n\n\n<p>Download the&nbsp;<code>GoogleService-Info.plist<\/code>&nbsp;file from your Firebase dashboard and move it to your application folder.<\/p>\n\n\n\n<p>Follow the instructions from the&nbsp;<a href=\"https:\/\/firebase.google.com\/docs\/ios\/setup\">Firebase Documentation<\/a>&nbsp;to install Firebase in your iOS application. But in summary, you will need to initialize CocoaPods with the following command:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">pod init<\/code><\/pre>\n\n\n\n<p>Add the pod&nbsp;<code>Firebase\/Functions<\/code>&nbsp;in the file&nbsp;<code>PodFile<\/code>. And install it with the following command:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">pod install<\/code><\/pre>\n\n\n\n<p>A new&nbsp;<code>.xcworkspace<\/code>&nbsp;file will be created, open it with Xcode and open the file&nbsp;<code>AppDelegate.swift<\/code>. Add the following import:<\/p>\n\n\n\n<pre class=\"wp-block-preformatted\">import Firebase<\/pre>\n\n\n\n<p>Add the following code that will allow us to request a new access token from the Firebase function:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">\/\/ Get the Firebase Functions\nlazy var functions = Functions.functions()\n \nprivate func getAccessToken(success: @escaping ((_ accessToken: String) -&gt; Void), fail: @escaping ((_ error: NSError?) -&gt; Void)) {\n    \/\/ Request an Access Token\n    functions.httpsCallable(&quot;getAccessToken&quot;).call() { result, error in\n        guard let jwt = result?.data as? NSDictionary,\n              let accessToken = jwt[&quot;access_token&quot;] as? String,\n              error == nil else {\n            fail(error as NSError?)\n            return\n        }\n         \n        success(accessToken)\n    }\n}<\/code><\/pre>\n\n\n\n<p>Now, in the function&nbsp;<code>application<\/code>&nbsp;add the following code to initialize Firebase and the SDK:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">\/\/ Use Firebase library to configure APIs\nFirebaseApp.configure()\n \n\/\/ Request an Access Token\ngetAccessToken { accessToken in\n    \/\/ Voxeet SDK initialization\n    VoxeetSDK.shared.initialize(accessToken: accessToken, refreshTokenClosureWithParam: { closure, isExpired in\n        \/\/ Request a new Access Token\n        self.getAccessToken { newAccessToken in\n            closure(newAccessToken)\n        } fail: { error in\n            closure(nil)\n        }\n    })\n} fail: { error in\n    \/\/ Report an error.\n}\n \n\/\/VoxeetSDK.shared.initialize(consumerKey: &quot;YOUR_CONSUMER_KEY&quot;, consumerSecret: &quot;YOUR_CONSUMER_SECRET&quot;)<\/code><\/pre>\n\n\n\n<p>That&#8217;s it; the iOS application is now using the Firebase Function to request an access token and initialize the SDK.<\/p>\n\n\n\n<h2 id=\"UseFirebaseFunctionsasauthenticationservice-JavaScriptimplementation\">JavaScript implementation<\/h2>\n\n\n\n<p>The following code is based on the&nbsp;<a href=\"https:\/\/github.com\/voxeet\/voxeet-sdk-browser-gettingstarted\">voxeet-sdk-browser-gettingstarted<\/a>&nbsp;GitHub repository.<\/p>\n\n\n\n<p>In the\u00a0<code>&lt;head&gt;<\/code>\u00a0of the\u00a0<code>index.html<\/code> file, add the following scripts to load the\u00a0<a href=\"https:\/\/github.com\/firebase\/firebase-js-sdk\">Firebase JavaScript SDK<\/a>:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-markup\">&lt;!-- Google Firebase SDK --&gt;\n&lt;script src=&quot;https:\/\/www.gstatic.com\/firebasejs\/8.3.2\/firebase-app.js&quot;&gt;&lt;\/script&gt;\n&lt;script src=&quot;https:\/\/www.gstatic.com\/firebasejs\/8.3.2\/firebase-functions.js&quot;&gt;&lt;\/script&gt;<\/code><\/pre>\n\n\n\n<p>Go to the list of applications from your project and select the web application you want to configure.<\/p>\n\n\n\n<figure class=\"wp-block-image size-large\"><img loading=\"lazy\" width=\"1024\" height=\"576\" src=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/javascript-config-1024x576.png\" alt=\"\" class=\"wp-image-876\" srcset=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/javascript-config-1024x576.png 1024w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/javascript-config-300x169.png 300w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/javascript-config-768x432.png 768w, https:\/\/dolby.io\/wp-content\/uploads\/2021\/05\/javascript-config.png 1280w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/figure>\n\n\n\n<p>Select the&nbsp;<strong>Config<\/strong>&nbsp;radio button and copy the&nbsp;<code>firebaseConfig<\/code>&nbsp;variable.<\/p>\n\n\n\n<p>Open the&nbsp;<code>client.js<\/code>&nbsp;file and replace the&nbsp;<code>try {} catch {}<\/code>&nbsp;section with the following code:<\/p>\n\n\n\n<pre class=\"wp-block-prismatic-blocks\"><code class=\"language-javascript\">\/\/ Your web app&#039;s Firebase configuration\n\/\/ For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig = {\n  apiKey: &quot;B0s4d5s64d65s4564ds56f4d6s54f6d5s4f-saddf5fdsfDF65ds&quot;,\n  authDomain: &quot;blog-post-01234.firebaseapp.com&quot;,\n  databaseURL: &quot;https:\/\/blog-post-01234.firebaseio.com&quot;,\n  projectId: &quot;blog-post-01234&quot;,\n  storageBucket: &quot;blog-post-01234.appspot.com&quot;,\n  messagingSenderId: &quot;000000000000&quot;,\n  appId: &quot;1:000000000000:web:0000011111222224444455&quot;,\n  measurementId: &quot;G-0000000000&quot;\n};\n \n\/\/ Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n \ntry {\n  \/\/ Get the Firebase Function\n  const getAccessToken = firebase.functions().httpsCallable(&#039;getAccessToken&#039;);\n \n  \/\/ Request an access token\n  const result = await getAccessToken();\n   \n  \/\/ Initialize the SDK\n  VoxeetSDK.initializeToken(result.data.access_token, async () =&gt; {\n    \/\/ Refresh the Access Token\n    const result2 = await getAccessToken();\n    return result2.data.access_token;\n  });\n \n  \/\/ Open a session for the user\n  await VoxeetSDK.session.open({ name: randomName });\n \n  \/\/ Initialize the UI\n  initUI();\n} catch (e) {\n  alert(&#039;Something went wrong : &#039; + e);\n}<\/code><\/pre>\n\n\n\n<p>That&#8217;s it; the JavaScript application is now using the Firebase Function to request an access token and initialize the SDK.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.<\/p>\n","protected":false},"author":19,"featured_media":2068,"comment_status":"open","ping_status":"open","sticky":false,"template":"","format":"standard","meta":{"inline_featured_image":false,"_genesis_hide_title":false,"_genesis_hide_breadcrumbs":false,"_genesis_hide_singular_image":false,"_genesis_hide_footer_widgets":false,"_genesis_custom_body_class":"","_genesis_custom_post_class":"","_genesis_layout":""},"categories":[11,9],"tags":[26,45,44,12],"acf":[],"yoast_head":"<!-- This site is optimized with the Yoast SEO Premium plugin v17.2 (Yoast SEO v18.5.1) - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Firebase Functions as a Conferencing Authentication Service<\/title>\n<meta name=\"description\" content=\"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.\" \/>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/\" \/>\n<meta property=\"og:locale\" content=\"en_US\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Using Firebase Functions as a Conferencing Authentication Service\" \/>\n<meta property=\"og:description\" content=\"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.\" \/>\n<meta property=\"og:url\" content=\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/\" \/>\n<meta property=\"og:site_name\" content=\"Dolby.io\" \/>\n<meta property=\"article:published_time\" content=\"2021-05-20T13:00:00+00:00\" \/>\n<meta property=\"article:modified_time\" content=\"2022-01-27T19:41:51+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg\" \/>\n\t<meta property=\"og:image:width\" content=\"1088\" \/>\n\t<meta property=\"og:image:height\" content=\"450\" \/>\n\t<meta property=\"og:image:type\" content=\"image\/jpeg\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Written by\" \/>\n\t<meta name=\"twitter:data1\" content=\"Fabien Lavocat\" \/>\n\t<meta name=\"twitter:label2\" content=\"Est. reading time\" \/>\n\t<meta name=\"twitter:data2\" content=\"9 minutes\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"Organization\",\"@id\":\"https:\/\/dolby.io\/#organization\",\"name\":\"Dolby.io\",\"url\":\"https:\/\/dolby.io\/\",\"sameAs\":[],\"logo\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/dolby.io\/#logo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/07\/DolbyIO-favicon.png\",\"contentUrl\":\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/07\/DolbyIO-favicon.png\",\"width\":512,\"height\":512,\"caption\":\"Dolby.io\"},\"image\":{\"@id\":\"https:\/\/dolby.io\/#logo\"}},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/dolby.io\/#website\",\"url\":\"https:\/\/dolby.io\/\",\"name\":\"Dolby.io\",\"description\":\"Dolby.io\",\"publisher\":{\"@id\":\"https:\/\/dolby.io\/#organization\"},\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/dolby.io\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"en-US\"},{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#primaryimage\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg\",\"contentUrl\":\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg\",\"width\":1088,\"height\":450},{\"@type\":\"WebPage\",\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#webpage\",\"url\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/\",\"name\":\"Firebase Functions as a Conferencing Authentication Service\",\"isPartOf\":{\"@id\":\"https:\/\/dolby.io\/#website\"},\"primaryImageOfPage\":{\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#primaryimage\"},\"datePublished\":\"2021-05-20T13:00:00+00:00\",\"dateModified\":\"2022-01-27T19:41:51+00:00\",\"description\":\"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.\",\"breadcrumb\":{\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#breadcrumb\"},\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/\"]}]},{\"@type\":\"BreadcrumbList\",\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#breadcrumb\",\"itemListElement\":[{\"@type\":\"ListItem\",\"position\":1,\"name\":\"Home\",\"item\":\"https:\/\/dolby.io\/\"},{\"@type\":\"ListItem\",\"position\":2,\"name\":\"Using Firebase Functions as a Conferencing Authentication Service\"}]},{\"@type\":\"Article\",\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#article\",\"isPartOf\":{\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#webpage\"},\"author\":{\"@id\":\"https:\/\/dolby.io\/#\/schema\/person\/c2e43849f218a168b4093d136613c041\"},\"headline\":\"Using Firebase Functions as a Conferencing Authentication Service\",\"datePublished\":\"2021-05-20T13:00:00+00:00\",\"dateModified\":\"2022-01-27T19:41:51+00:00\",\"mainEntityOfPage\":{\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#webpage\"},\"wordCount\":1187,\"commentCount\":0,\"publisher\":{\"@id\":\"https:\/\/dolby.io\/#organization\"},\"image\":{\"@id\":\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#primaryimage\"},\"thumbnailUrl\":\"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg\",\"keywords\":[\"android\",\"firebase\",\"ios\",\"javascript\"],\"articleSection\":[\"Communications\",\"Developer\"],\"inLanguage\":\"en-US\",\"potentialAction\":[{\"@type\":\"CommentAction\",\"name\":\"Comment\",\"target\":[\"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#respond\"]}]},{\"@type\":\"Person\",\"@id\":\"https:\/\/dolby.io\/#\/schema\/person\/c2e43849f218a168b4093d136613c041\",\"name\":\"Fabien Lavocat\",\"image\":{\"@type\":\"ImageObject\",\"@id\":\"https:\/\/dolby.io\/#personlogo\",\"inLanguage\":\"en-US\",\"url\":\"https:\/\/secure.gravatar.com\/avatar\/0fc56a90b3eff450d8ead43738f18a2c?s=96&d=mm&r=g\",\"contentUrl\":\"https:\/\/secure.gravatar.com\/avatar\/0fc56a90b3eff450d8ead43738f18a2c?s=96&d=mm&r=g\",\"caption\":\"Fabien Lavocat\"},\"url\":\"https:\/\/dolby.io\/blog\/author\/flavo\/\"}]}<\/script>\n<!-- \/ Yoast SEO Premium plugin. -->","yoast_head_json":{"title":"Firebase Functions as a Conferencing Authentication Service","description":"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/","og_locale":"en_US","og_type":"article","og_title":"Using Firebase Functions as a Conferencing Authentication Service","og_description":"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.","og_url":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/","og_site_name":"Dolby.io","article_published_time":"2021-05-20T13:00:00+00:00","article_modified_time":"2022-01-27T19:41:51+00:00","og_image":[{"width":1088,"height":450,"url":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg","type":"image\/jpeg"}],"twitter_card":"summary_large_image","twitter_misc":{"Written by":"Fabien Lavocat","Est. reading time":"9 minutes"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"Organization","@id":"https:\/\/dolby.io\/#organization","name":"Dolby.io","url":"https:\/\/dolby.io\/","sameAs":[],"logo":{"@type":"ImageObject","@id":"https:\/\/dolby.io\/#logo","inLanguage":"en-US","url":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/07\/DolbyIO-favicon.png","contentUrl":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/07\/DolbyIO-favicon.png","width":512,"height":512,"caption":"Dolby.io"},"image":{"@id":"https:\/\/dolby.io\/#logo"}},{"@type":"WebSite","@id":"https:\/\/dolby.io\/#website","url":"https:\/\/dolby.io\/","name":"Dolby.io","description":"Dolby.io","publisher":{"@id":"https:\/\/dolby.io\/#organization"},"potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/dolby.io\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#primaryimage","inLanguage":"en-US","url":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg","contentUrl":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg","width":1088,"height":450},{"@type":"WebPage","@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#webpage","url":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/","name":"Firebase Functions as a Conferencing Authentication Service","isPartOf":{"@id":"https:\/\/dolby.io\/#website"},"primaryImageOfPage":{"@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#primaryimage"},"datePublished":"2021-05-20T13:00:00+00:00","dateModified":"2022-01-27T19:41:51+00:00","description":"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.","breadcrumb":{"@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/"]}]},{"@type":"BreadcrumbList","@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https:\/\/dolby.io\/"},{"@type":"ListItem","position":2,"name":"Using Firebase Functions as a Conferencing Authentication Service"}]},{"@type":"Article","@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#article","isPartOf":{"@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#webpage"},"author":{"@id":"https:\/\/dolby.io\/#\/schema\/person\/c2e43849f218a168b4093d136613c041"},"headline":"Using Firebase Functions as a Conferencing Authentication Service","datePublished":"2021-05-20T13:00:00+00:00","dateModified":"2022-01-27T19:41:51+00:00","mainEntityOfPage":{"@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#webpage"},"wordCount":1187,"commentCount":0,"publisher":{"@id":"https:\/\/dolby.io\/#organization"},"image":{"@id":"https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#primaryimage"},"thumbnailUrl":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg","keywords":["android","firebase","ios","javascript"],"articleSection":["Communications","Developer"],"inLanguage":"en-US","potentialAction":[{"@type":"CommentAction","name":"Comment","target":["https:\/\/dolby.io\/blog\/using-firebase-functions-as-a-conferencing-authentication-service\/#respond"]}]},{"@type":"Person","@id":"https:\/\/dolby.io\/#\/schema\/person\/c2e43849f218a168b4093d136613c041","name":"Fabien Lavocat","image":{"@type":"ImageObject","@id":"https:\/\/dolby.io\/#personlogo","inLanguage":"en-US","url":"https:\/\/secure.gravatar.com\/avatar\/0fc56a90b3eff450d8ead43738f18a2c?s=96&d=mm&r=g","contentUrl":"https:\/\/secure.gravatar.com\/avatar\/0fc56a90b3eff450d8ead43738f18a2c?s=96&d=mm&r=g","caption":"Fabien Lavocat"},"url":"https:\/\/dolby.io\/blog\/author\/flavo\/"}]}},"uagb_featured_image_src":{"full":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg",1088,450,false],"thumbnail":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-150x150.jpg",150,150,true],"medium":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-300x124.jpg",300,124,true],"medium_large":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-768x318.jpg",768,318,true],"large":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-1024x424.jpg",1024,424,true],"1536x1536":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg",1088,450,false],"2048x2048":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service.jpg",1088,450,false],"featured-page":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-1088x400.jpg",1088,400,true],"gb-block-post-grid-landscape":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-600x400.jpg",600,400,true],"gb-block-post-grid-square":["https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-600x450.jpg",600,450,true]},"uagb_author_info":{"display_name":"Fabien Lavocat","author_link":"https:\/\/dolby.io\/blog\/author\/flavo\/"},"uagb_comment_info":0,"uagb_excerpt":"Learn how to use the Google Firebase Functions to build an authentication service with Node.JS (in TypeScript) for calling from each of the Android, iOS, and JavaScript Dolby.io Communications APIs.","featured_image_src":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-600x400.jpg","featured_image_src_square":"https:\/\/dolby.io\/wp-content\/uploads\/2021\/09\/Using-Firebase-Functions-as-a-Conferencing-Authentication-Service-600x450.jpg","author_info":{"display_name":"Fabien Lavocat","author_link":"https:\/\/dolby.io\/blog\/author\/flavo\/"},"_links":{"self":[{"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/posts\/870"}],"collection":[{"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/users\/19"}],"replies":[{"embeddable":true,"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/comments?post=870"}],"version-history":[{"count":0,"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/posts\/870\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/media\/2068"}],"wp:attachment":[{"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/media?parent=870"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/categories?post=870"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/dolby.io\/wp-json\/wp\/v2\/tags?post=870"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}